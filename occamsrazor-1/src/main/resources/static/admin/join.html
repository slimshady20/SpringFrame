<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<style>
* {
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
}
//aa
/* Style the header */
header {
  background-color: #666;
  padding: 30px;
  text-align: center;
  font-size: 35px;
  color: white;
}

/* Create two columns/boxes that floats next to each other */
nav {
  float: left;
  width: 30%;
  height: 300px; /* only for demonstration, should be removed */
  background: #ccc;
  padding: 20px;
}

/* Style the list inside the menu */
nav ul {
  list-style-type: none;
  padding: 0;
}

article {
  float: left;
  padding: 20px;
  width: 70%;
  background-color: #f1f1f1;
  height: 300px; /* only for demonstration, should be removed */
}

/* Clear floats after the columns */
section:after {
  content: "";
  display: table;
  clear: both;
}

/* Style the footer */
footer {
  background-color: #777;
  padding: 10px;
  text-align: center;
  color: white;
}

/* Responsive layout - makes the two columns/boxes stack on top of each other instead of next to each other, on small screens */
@media (max-width: 600px) {
  nav, article {
    width: 100%;
    height: auto;
  }
}
</style>
</head>
<body>
   

<header>
  <h2>회원가입</h2>
</header>

<section>
  <nav>
    <ul>
      <li><a id="a-first" href="#">Join</a></li>
      <li><a id="a-second" href="../index.html">Login</a></li>
      <li><a id="a-third" href= "#">...</a></li>
      
    </ul>
  </nav>
  
  <article>
    <form action="#">
    	<label>Name</label><br>
    	<input id="name" type = "text"><br>
    	<label>ID</label><br>
		<input id="userid" type = "text"><br>
		<label>PassWord</label><br>
		<input id="passwd" type = "text"><br>
		<label>Ssn</label><br>
		<input id= "ssn" type = "text"><br>  
		<label>Address</label><br>
		<input id= "addr" type = "text"><br><br>
		<input id= "Join-button" type="button" value="회원가입">
		<input id= "Cancel-button" type="button" value="취소">
		
	
    </form>
  </article>
</section>

<footer>
  <p>Footer</p>
</footer>
    <script type = "text/javascript">
$('#Join-button').click(e =>{
	e.preventDefault()
	//alert('입력된 이름: ' + $('#name').val())
	
	//	let name = $('#name')   //String name= new String() 이랑 똑같다.
	// 
//	alert('입력된 주민번호: '+ member.ssn)

	$.ajax({
		url: '/member/join', //url: 리소스에 접근할수있는
		type: 'post',
		data: JSON.stringify({name : $('#name').val(),   // JSON 
			 userid: $('#userid').val(),
			 passwd: $('#passwd').val(),
			 ssn:	$('#ssn').val(),
			 addr: $('#addr').val()}),
		dataType: 'json',		// 항상 똑같
		contentType: 'application/json',		//항상 똑같이
		
		
		success: d=> { // return member; 값이 이리로 넘어온것 이름은달라도 ㄱㅊ abc도가능
			if(d === 'SUCCESS'){ //string이라 === 3개씀
				location.href="../index.html"		
			}else{
				location.href="join.html"
			}
		
		},
		error: (request,status,error)=>{
			alert("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error)
		}
		
	})
	
		
})
$('#cancel-button').click(e => {
	e.preventDefault()
	alert('취소 버튼 클릭')
})
    </script>
</body>
</html>